import{A as V}from"./add-cbad5679.js";import{d as w,c as r,r as S,o as F,a as o,b as a,e,w as k,v as C,u as t,f as _,F as R,g as O,t as A,h,i as T,j as $,k as q,l as D,p as j,m as M,_ as E,n as x,q as G,s as Q,Q as z}from"./index-e670b3a1.js";import{E as H,g as J,a as K}from"./navigation-helpers-9634df95.js";import{u as W,T as X}from"./use-page-c1530ce8.js";import{a as Y,u as Z,O as l}from"./book-store-7d08f441.js";import"./lodash-bf2fda92.js";const i=c=>(j("data-v-374b6094"),c=c(),M(),c),tt={class:"table table-striped align-middle text-center"},et=i(()=>e("tr",{class:"title"},[e("th",null,"Name"),e("th",null,"Country"),e("th",{style:{width:"58px"}})],-1)),st={class:"filter"},ot=["disabled"],at=["disabled"],nt=i(()=>e("th",null,null,-1)),lt={key:0},rt=i(()=>e("tr",null,[e("td",{colspan:"10"},"Loading...")],-1)),ut=[rt],dt={key:1},it=i(()=>e("tr",null,[e("td",{colspan:"10"},"Something went wrong... Please come back later!")],-1)),ct=[it],_t={key:2},ht=i(()=>e("tr",null,[e("td",{colspan:"10"},"No authors found... Please add one!")],-1)),pt=[ht],mt={key:3},gt=i(()=>e("tr",null,[e("td",{colspan:"10"},"No authors matching your filter... Please weaken your requirements!")],-1)),ft=[gt],vt={key:4},yt={class:"d-flex gap-2"},bt=["onClick"],St=w({__name:"AuthorList",setup(c){const v=q(),y=D(),{getAuthors:p}=Y(),{fetchBooks:I,getFetchStatus:L}=Z(),n=r(L),u=S({}),P=r(()=>Object.values(u.value).some(Boolean)),b=r(p),m=r(()=>p(u.value)),N=r(()=>J(m.value,g.value,f.value)),B=r(()=>b.value.length===0),U=r(()=>m.value.length===0),f=S(5),g=W("authors",()=>K(m.value.length,f.value));return F(I),(wt,d)=>(o(),a("table",tt,[e("thead",null,[et,e("tr",st,[e("th",null,[k(e("input",{class:"form-control","onUpdate:modelValue":d[0]||(d[0]=s=>u.value.name=s),disabled:t(n)!==t(l).SUCCESS},null,8,ot),[[C,u.value.name]])]),e("th",null,[k(e("input",{class:"form-control","onUpdate:modelValue":d[1]||(d[1]=s=>u.value.country=s),disabled:t(n)!==t(l).SUCCESS},null,8,at),[[C,u.value.country]])]),nt])]),t(n)===t(l).PENDING?(o(),a("tbody",lt,ut)):_("",!0),t(n)===t(l).ERROR?(o(),a("tbody",dt,ct)):_("",!0),t(n)===t(l).SUCCESS&&t(B)?(o(),a("tbody",_t,pt)):t(n)===t(l).SUCCESS&&t(U)?(o(),a("tbody",mt,ft)):_("",!0),t(n)===t(l).SUCCESS?(o(),a("tbody",vt,[(o(!0),a(R,null,O(t(N),s=>(o(),a("tr",{key:s.id},[e("td",null,A(s.name),1),e("td",null,A(s.country??"-"),1),e("td",null,[e("div",yt,[e("button",{type:"button",class:"btn btn-outline-secondary action",onClick:Et=>t(v).push({name:"authors-edit",params:{authorId:s.id},query:{redirect:t(y).fullPath}})},[h(t(H))],8,bt)])])]))),128))])):_("",!0),t(n)===t(l).SUCCESS?(o(),T(X,{key:5,page:t(g),"onUpdate:page":d[2]||(d[2]=s=>$(g)?g.value=s:null),isFiltered:t(P),total:t(b).length,filtered:t(m).length,perPage:f.value},null,8,["page","isFiltered","total","filtered","perPage"])):_("",!0)]))}});const kt=E(St,[["__scopeId","data-v-374b6094"]]),Ct={class:"mb-3"},At={class:"mb-3 d-flex flex-wrap"},xt=w({__name:"AuthorListView",setup(c){return(v,y)=>{const p=Q("RouterLink");return o(),a("div",null,[e("h1",Ct,[h(t(z)),x(" Authors ")]),e("div",At,[h(p,{to:{name:"authors-add"},class:"btn btn-primary d-flex align-items-center gap-1"},{default:G(()=>[h(t(V)),x(" New Author ")]),_:1})]),h(kt)])}}});const Vt=E(xt,[["__scopeId","data-v-e7a17b9a"]]);export{Vt as default};
