import{b as f,E as _,d as A}from"./navigation-helpers-9634df95.js";import{A as E}from"./AuthorForm-a07df92d.js";import{u as F,a as V,O as w}from"./book-store-7d08f441.js";import{d as C,D as g,c as u,y as k,b as x,h as n,q as B,u as c,e as N,a as b,n as v,k as y,l as I}from"./index-e670b3a1.js";import{F as T}from"./flash-types-c1cf48c2.js";import"./lodash-bf2fda92.js";const U=N("h1",null,"Edit Author",-1),z=C({__name:"EditAuthorView",props:{authorId:null},setup(d){const i=d,t=y(),a=I(),{getFetchStatus:l}=F(),{getAuthor:m,updateAuthor:h}=V(),{addFlash:p}=g(),e=u(()=>m(i.authorId)),s=u(l);k([e,s],()=>{!e.value&&s.value===w.SUCCESS&&A(t,a)},{immediate:!0});const S=async r=>{await h(r),p({status:T.SUCCESS,message:"Author edited"});const o=a.query.redirect;if(!o){await t.push({name:"authors"});return}await f(t,o)};return(r,o)=>(b(),x("div",null,[U,n(E,{modelValue:c(e),"onUpdate:modelValue":S},{default:B(()=>[n(c(_)),v(" Edit ")]),_:1},8,["modelValue"])]))}});export{z as default};
